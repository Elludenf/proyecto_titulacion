<?php
/**
 * Created by PhpStorm.
 * User: rober_000
 * Date: 23-Apr-17
 * Time: 5:05 PM
 */
/**
 * Generated by CRUDigniter v3.0 Beta
 * www.crudigniter.com
 */

class Eve_x_est extends CI_Controller{
    function __construct()
    {
        parent::__construct();
        $this->load->model('Eve_x_est_model');
    }

    /*
     * Listing of eve_x_est
     */
    function index()
    {
        $data['eve_x_est'] = $this->Eve_x_est_model->get_all_eve_x_est();

        $data['_view'] = 'eve_x_est/index';
        $this->load->view('layouts/main',$data);
    }

    /*
     * Adding a new eve_x_est
     */
    function add()
    {
        if(isset($_POST) && count($_POST) > 0)
        {
            $params = array(
                'exe_asistencia' => $this->input->post('exe_asistencia'),
            );

            $eve_x_est_id = $this->Eve_x_est_model->add_eve_x_est($params);
            redirect('eve_x_est/index');
        }
        else
        {
            $data['_view'] = 'eve_x_est/add';
            $this->load->view('layouts/main',$data);
        }
    }

    /*
     * Editing a eve_x_est
     */
    function edit($est_codigo)
    {
        // check if the eve_x_est exists before trying to edit it
        $data['eve_x_est'] = $this->Eve_x_est_model->get_eve_x_est($est_codigo);

        if(isset($data['eve_x_est']['est_codigo']))
        {
            if(isset($_POST) && count($_POST) > 0)
            {
                $params = array(
                    'exe_asistencia' => $this->input->post('exe_asistencia'),
                );

                $this->Eve_x_est_model->update_eve_x_est($est_codigo,$params);
                redirect('eve_x_est/index');
            }
            else
            {
                $data['_view'] = 'eve_x_est/edit';
                $this->load->view('layouts/main',$data);
            }
        }
        else
            show_error('The eve_x_est you are trying to edit does not exist.');
    }

    /*
     * Deleting eve_x_est
     */
    function remove($est_codigo)
    {
        $eve_x_est = $this->Eve_x_est_model->get_eve_x_est($est_codigo);

        // check if the eve_x_est exists before trying to delete it
        if(isset($eve_x_est['est_codigo']))
        {
            $this->Eve_x_est_model->delete_eve_x_est($est_codigo);
            redirect('eve_x_est/index');
        }
        else
            show_error('The eve_x_est you are trying to delete does not exist.');
    }

}
